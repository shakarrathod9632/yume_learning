<!-- This will be included BELOW your static projects -->
{% load static %}

<!-- Dynamic Projects Section -->
{% if dynamic_projects %}
<div class="dynamic-projects-section mt-6">
    <div class="section-header text-center mb-5" data-aos="fade-up">
        <h2 class="section-title display-5 fw-bold position-relative pb-3"
            data-aos="zoom-out-up" 
            data-aos-delay="100">
            Additional Projects
            <span class="title-underline" 
                data-aos="jello-horizontal" 
                data-aos-delay="600"></span>
        </h2>
        <p class="text-muted" data-aos="fade-up" data-aos-delay="200">
            Explore our other impactful initiatives
        </p>
    </div>

    <!-- Dynamic Projects Grid -->
    <div class="row g-4">
        {% for project in dynamic_projects %}
        <div class="col-lg-6" data-aos="fade-up" data-aos-delay="{{ forloop.counter|add:"0" }}00">
            <div class="project-card" data-aos="zoom-in" data-aos-delay="{{ forloop.counter|add:"1" }}50">
                <!-- Project Image -->
                <div class="project-image-container" data-aos="fade-up" data-aos-delay="{{ forloop.counter|add:"2" }}00">
                    <img src="{{ project.image.url }}" 
                        alt="{{ project.title }}"
                        class="project-img"
                        data-aos="zoom-in" data-aos-delay="{{ forloop.counter|add:"2" }}50">
                    <div class="image-overlay" data-aos="fade-up" data-aos-delay="{{ forloop.counter|add:"3" }}00"></div>
                    
                    <!-- Dynamic Badge -->
                    <div class="dynamic-badge" data-aos="fade-left" data-aos-delay="{{ forloop.counter|add:"3" }}50">
                        <i class="fas fa-plus-circle me-1"></i> New
                    </div>
                </div>

                <!-- Project Header -->
                <div class="project-header" style="padding-bottom: 0px;" data-aos="fade-up" data-aos-delay="{{ forloop.counter|add:"3" }}50">
                    <div class="project-tag" data-aos="fade-right" data-aos-delay="{{ forloop.counter|add:"4" }}00">
                        <span class="tag" data-aos="fade-right" data-aos-delay="{{ forloop.counter|add:"4" }}50">
                            {{ project.category }}
                        </span>
                        <span class="project-duration" data-aos="fade-left" data-aos-delay="{{ forloop.counter|add:"5" }}00">
                            <i class="far fa-clock me-1"></i>{{ project.duration }}
                        </span>
                    </div>
                    <h3 class="project-name" data-aos="fade-up" data-aos-delay="{{ forloop.counter|add:"5" }}50">
                        {{ project.title }}
                    </h3>
                </div>

                <!-- Project Content -->
                <div class="project-content" style="padding-top: 0px;" data-aos="fade-up" data-aos-delay="{{ forloop.counter|add:"6" }}00">
                    <p class="project-description" data-aos="fade-up" data-aos-delay="{{ forloop.counter|add:"6" }}50">
                        {{ project.description|truncatechars:150 }}
                    </p>
                    
                    <!-- Key Stats -->
                    <div class="project-stats mb-3" data-aos="fade-up" data-aos-delay="{{ forloop.counter|add:"7" }}00">
                        <div class="d-flex justify-content-between text-muted small">
                            {% if project.student_count > 0 %}
                            <span>
                                <i class="fas fa-users me-1"></i>
                                {{ project.student_count }}+ Students
                            </span>
                            {% endif %}
                            <span>
                                <i class="fas fa-map-marker-alt me-1"></i>
                                {{ project.location }}
                            </span>
                        </div>
                    </div>
                    
                    <!-- Action Button -->
                    <div class="project-action">
                        <a href="{% url 'projects:dynamic_project_detail' project.slug %}" 
                           class="view-details-btn"
                           data-aos="zoom-in-up" 
                           data-aos-delay="{{ forloop.counter|add:"7" }}50">
                            <span>View Project Details</span>
                            <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}